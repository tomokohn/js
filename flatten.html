<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
    /*
     Ex. flatten:

     Write a function to flatten an array.
     - Any nested arrays will be represented as values only
     - Support shallow flatten, which will flatten only one level deep

     */
    (function () {
        var arr = [1, [2], [3, [[4]]], [5, 6]];
        var newArr = [];

        //-----------------------------------------------------
        // Your code here
        //-----------------------------------------------------
       /* function flatten(arrOld,level) {
            var newArr = newArr || [];
            for (var i = 0 ; i < arrOld.length; i++){
                if (Array.isArray(arrOld[i])) {
                    var tmp = arrOld[i];
                    for (var i2 = 0; i2<tmp.length; i2++){
                        newArr.push(tmp[i2]);
                    }
                } else {
                    newArr.push(arrOld[i]);
                }

            }
            flatten(tmp)
            return newArr;
        }*/

        function flatten(arrOld,shallow,newArr) {
            newArr = newArr || [];
            for (var i = 0; i < arrOld.length; i++) {
                if (Array.isArray(arrOld[i])) {
                    if (shallow) {
                        for (var i2 = 0; i2 < arrOld[i].length; i2++) {
                        newArr.push(arrOld[i][i2]);
                    }

                    } else flatten(arrOld[i],shallow,newArr);

                    /*for (var i2 = 0; i2 < arrOld[i].length; i2++) {
                        newArr.push(arrOld[i][i2]);

                    }*/
                } else {
                    newArr.push(arrOld[i]);
                }

            }

            return newArr;
        }





        //-----------------------------------------------------
        // Tests
        //-----------------------------------------------------
        console.log(flatten(arr));
        // [1, 2, 3, 4, 5, 6]
        console.log(flatten(arr, true));
        // [1, 2, 3, [[4]], 5, 6]
    }());

</script>
</body>
</html>